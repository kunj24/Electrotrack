const { MongoClient } = require('mongodb');

async function populateInventoryCollection() {
  const uri = 'mongodb://localhost:27017/electrotrack';
  const client = new MongoClient(uri);

  try {
    await client.connect();
    console.log('Connected to MongoDB');

    const database = client.db('electrotrack');
    const inventoryCollection = database.collection('inventory');

    // Clear existing inventory
    await inventoryCollection.deleteMany({});
    console.log('Cleared existing inventory collection');

    // All 14 products from admin inventory
    const inventoryProducts = [
      {
        name: "Crompton HighFlo 1200mm Ceiling Fan",
        sku: "CRO-FAN-1200-001",
        category: "Fans",
        brand: "Crompton",
        price: 2299,
        originalPrice: 2799,
        discountPercentage: 18,
        description: "High air delivery ceiling fan with elegant design",
        images: ["https://images.unsplash.com/photo-1635946510441-2b608f9c4ac3?w=500"],
        quantity: 45,
        minStockLevel: 9,
        maxStockLevel: 90,
        isFeatured: true,
        status: "active",
        rating: 4.4,
        reviews: 156,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Crompton India",
        reorderPoint: 10,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000001"
      },
      {
        name: "Havells Efficiencia 400mm Table Fan",
        sku: "HAV-TBL-400-001",
        category: "Fans",
        brand: "Havells",
        price: 1899,
        originalPrice: 2299,
        discountPercentage: 17,
        description: "Powerful table fan with high-speed motor and sweep oscillation",
        images: ["https://images.unsplash.com/photo-1590642916589-592cbd44de9e?w=500"],
        quantity: 35,
        minStockLevel: 7,
        maxStockLevel: 70,
        isFeatured: false,
        status: "active",
        rating: 4.3,
        reviews: 98,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Havells India Ltd",
        reorderPoint: 8,
        lastRestocked: new Date("2025-10-02"),
        expiryDate: null,
        barcode: "8900000000002"
      },
      {
        name: "Usha Mist Air Icy 400mm Table Fan",
        sku: "USH-TBL-400-001",
        category: "Fans",
        brand: "Usha",
        price: 2199,
        originalPrice: 2699,
        discountPercentage: 18,
        description: "Table fan with mist spray cooling technology",
        images: ["https://images.unsplash.com/photo-1621905251189-08b45d6a269e?w=500"],
        quantity: 28,
        minStockLevel: 6,
        maxStockLevel: 55,
        isFeatured: false,
        status: "active",
        rating: 4.5,
        reviews: 87,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Usha International Ltd",
        reorderPoint: 7,
        lastRestocked: new Date("2025-10-03"),
        expiryDate: null,
        barcode: "8900000000003"
      },
      {
        name: 'Mi 32" HD Ready Smart LED TV',
        sku: "MI-TV-32-HD-001",
        category: "Televisions",
        brand: "Mi",
        price: 13999,
        originalPrice: 16999,
        discountPercentage: 18,
        description: "Affordable smart TV with Android TV and built-in streaming apps",
        images: ["https://images.unsplash.com/photo-1593784991095-a205069470b6?w=500"],
        quantity: 12,
        minStockLevel: 2,
        maxStockLevel: 25,
        isFeatured: true,
        status: "active",
        rating: 4.6,
        reviews: 203,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse C",
        supplier: "Xiaomi India",
        reorderPoint: 3,
        lastRestocked: new Date("2025-10-04"),
        expiryDate: null,
        barcode: "8900000000004"
      },
      {
        name: "Voltas 1 Ton 3 Star Split AC",
        sku: "VOL-AC-1.0-SPL-001",
        category: "Air Conditioners",
        brand: "Voltas",
        price: 27999,
        originalPrice: 32999,
        discountPercentage: 15,
        description: "Fixed speed split AC with copper condenser and anti-dust filter",
        images: ["https://images.unsplash.com/photo-1631545806609-7e7c1fb49c2b?w=500"],
        quantity: 8,
        minStockLevel: 2,
        maxStockLevel: 15,
        isFeatured: true,
        status: "active",
        rating: 4.4,
        reviews: 134,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Voltas Ltd",
        reorderPoint: 2,
        lastRestocked: new Date("2025-10-05"),
        expiryDate: null,
        barcode: "8900000000005"
      },
      {
        name: "Carrier 2 Ton 3 Star Inverter Split AC",
        sku: "CAR-AC-2.0-INV-001",
        category: "Air Conditioners",
        brand: "Carrier",
        price: 45999,
        originalPrice: 52999,
        discountPercentage: 13,
        description: "High capacity inverter AC with advanced cooling technology",
        images: ["https://images.unsplash.com/photo-1582560419892-bc1e38540f3e?w=500"],
        quantity: 5,
        minStockLevel: 1,
        maxStockLevel: 10,
        isFeatured: true,
        status: "active",
        rating: 4.7,
        reviews: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Carrier India",
        reorderPoint: 1,
        lastRestocked: new Date("2025-10-06"),
        expiryDate: null,
        barcode: "8900000000006"
      },
      {
        name: "Blue Star 1.5 Ton 5 Star Window AC",
        sku: "BLS-AC-1.5-WIN-001",
        category: "Air Conditioners",
        brand: "Blue Star",
        price: 29999,
        originalPrice: 34999,
        discountPercentage: 14,
        description: "Window AC with precision cooling and energy saving features",
        images: ["https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?w=500"],
        quantity: 6,
        minStockLevel: 1,
        maxStockLevel: 12,
        isFeatured: false,
        status: "active",
        rating: 4.5,
        reviews: 112,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Blue Star Ltd",
        reorderPoint: 2,
        lastRestocked: new Date("2025-10-07"),
        expiryDate: null,
        barcode: "8900000000007"
      },
      {
        name: "Crompton Ozone 88L Desert Cooler",
        sku: "CRO-CLR-88L-001",
        category: "Coolers",
        brand: "Crompton",
        price: 11999,
        originalPrice: 14999,
        discountPercentage: 20,
        description: "Extra large capacity desert cooler for industrial and commercial use",
        images: ["https://images.unsplash.com/photo-1597251816261-dccd7b767c7c?w=500"],
        quantity: 15,
        minStockLevel: 3,
        maxStockLevel: 30,
        isFeatured: false,
        status: "active",
        rating: 4.3,
        reviews: 78,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Crompton India",
        reorderPoint: 4,
        lastRestocked: new Date("2025-10-08"),
        expiryDate: null,
        barcode: "8900000000008"
      },
      {
        name: "Orient Electric 30L Personal Cooler",
        sku: "ORI-CLR-30L-001",
        category: "Coolers",
        brand: "Orient Electric",
        price: 4999,
        originalPrice: 5999,
        discountPercentage: 17,
        description: "Compact personal cooler with ice chamber for small rooms",
        images: ["https://images.unsplash.com/photo-1616595127405-08f4e65e5ce3?w=500"],
        quantity: 22,
        minStockLevel: 4,
        maxStockLevel: 45,
        isFeatured: false,
        status: "active",
        rating: 4.2,
        reviews: 145,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Orient Electric Ltd",
        reorderPoint: 5,
        lastRestocked: new Date("2025-10-09"),
        expiryDate: null,
        barcode: "8900000000009"
      },
      {
        name: "Kenstar 60L Desert Cooler",
        sku: "KEN-CLR-60L-001",
        category: "Coolers",
        brand: "Kenstar",
        price: 7999,
        originalPrice: 9499,
        discountPercentage: 16,
        description: "Efficient desert cooler with powerful cooling and low power consumption",
        images: ["https://images.unsplash.com/photo-1615715616181-6bf766dea4e5?w=500"],
        quantity: 18,
        minStockLevel: 4,
        maxStockLevel: 35,
        isFeatured: false,
        status: "active",
        rating: 4.4,
        reviews: 167,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Kenstar India",
        reorderPoint: 4,
        lastRestocked: new Date("2025-10-10"),
        expiryDate: null,
        barcode: "8900000000010"
      },
      {
        name: "Anchor Roma Fan Dimmer Regulator",
        sku: "ANC-REG-DIM-001",
        category: "Regulators",
        brand: "Anchor",
        price: 349,
        originalPrice: 449,
        discountPercentage: 22,
        description: "Premium rotary fan speed controller with smooth dimming",
        images: ["https://images.unsplash.com/photo-1621905251189-08b45d6a269e?w=500"],
        quantity: 85,
        minStockLevel: 15,
        maxStockLevel: 170,
        isFeatured: false,
        status: "active",
        rating: 4.1,
        reviews: 298,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Anchor Electricals",
        reorderPoint: 20,
        lastRestocked: new Date("2025-10-11"),
        expiryDate: null,
        barcode: "8900000000011"
      },
      {
        name: "Anchor 16A Heavy Duty Extension Board",
        sku: "ANC-EXT-16A-001",
        category: "Accessories",
        brand: "Anchor",
        price: 599,
        originalPrice: 799,
        discountPercentage: 25,
        description: "4-socket extension board with individual switches and surge protection",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 65,
        minStockLevel: 10,
        maxStockLevel: 130,
        isFeatured: false,
        status: "active",
        rating: 4.3,
        reviews: 412,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Anchor Electricals",
        reorderPoint: 15,
        lastRestocked: new Date("2025-10-12"),
        expiryDate: null,
        barcode: "8900000000012"
      },
      {
        name: "Havells Crabtree 6A Socket",
        sku: "HAV-SOC-6A-001",
        category: "Accessories",
        brand: "Havells",
        price: 199,
        originalPrice: 249,
        discountPercentage: 20,
        description: "Premium 3-pin power socket with international standard",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 120,
        minStockLevel: 25,
        maxStockLevel: 240,
        isFeatured: false,
        status: "active",
        rating: 4.5,
        reviews: 567,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Havells India Ltd",
        reorderPoint: 30,
        lastRestocked: new Date("2025-10-13"),
        expiryDate: null,
        barcode: "8900000000013"
      },
      {
        name: "Philips 20W LED Tube Light",
        sku: "PHI-LED-20W-001",
        category: "Accessories",
        brand: "Philips",
        price: 299,
        originalPrice: 399,
        discountPercentage: 25,
        description: "Energy-efficient LED tube light for bright and uniform illumination",
        images: ["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=500"],
        quantity: 95,
        minStockLevel: 20,
        maxStockLevel: 190,
        isFeatured: false,
        status: "active",
        rating: 4.6,
        reviews: 723,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Philips India",
        reorderPoint: 25,
        lastRestocked: new Date("2025-10-14"),
        expiryDate: null,
        barcode: "8900000000014"
      }
    ];

    const result = await inventoryCollection.insertMany(inventoryProducts);
    console.log(`Successfully inserted ${result.insertedCount} products into inventory collection`);
    console.log('Inserted IDs:', result.insertedIds);

    // Verify the insertion
    const count = await inventoryCollection.countDocuments();
    console.log(`Total documents in inventory collection: ${count}`);

  } catch (error) {
    console.error('Error populating inventory collection:', error);
  } finally {
    await client.close();
    console.log('Disconnected from MongoDB');
  }
}

populateInventoryCollection();
