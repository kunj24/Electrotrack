const { MongoClient } = require('mongodb');

async function populateInventoryCollection() {
  const uri = 'mongodb://localhost:27017/electrotrack';
  const client = new MongoClient(uri);

  try {
    await client.connect();
    console.log('Connected to MongoDB');

    const database = client.db('electrotrack');
    const inventoryCollection = database.collection('inventory');

    // Clear existing inventory
    await inventoryCollection.deleteMany({});
    console.log('Cleared existing inventory collection');

    // All 14 products from admin inventory
    const inventoryProducts = [
      {
        name: "Crompton HighFlo 1200mm Ceiling Fan",
        category: "Fans",
        brand: "Crompton",
        price: 2299,
        originalPrice: 2799,
        discountPercentage: 18,
        description: "High air delivery ceiling fan with elegant design",
        images: ["https://images.unsplash.com/photo-1635946510441-2b608f9c4ac3?w=500"],
        quantity: 45,
        minStockLevel: 9,
        maxStockLevel: 90,
        isFeatured: true,
        status: "active",
        rating: 4.4,
        reviews: 156,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Crompton India",
        reorderPoint: 10,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000001"
      },
      {
        name: "Havells Efficiencia 400mm Table Fan",
        category: "Fans",
        brand: "Havells",
        price: 1899,
        originalPrice: 2299,
        discountPercentage: 17,
        description: "Energy efficient table fan with powerful motor",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 32,
        minStockLevel: 8,
        maxStockLevel: 80,
        isFeatured: false,
        status: "active",
        rating: 4.2,
        reviews: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Havells India",
        reorderPoint: 10,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000002"
      },
      {
        name: "Usha Mist Air Icy 400mm Table Fan",
        category: "Fans",
        brand: "Usha",
        price: 1699,
        originalPrice: 1999,
        discountPercentage: 15,
        description: "Cool mist table fan with ice chamber technology",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 28,
        minStockLevel: 7,
        maxStockLevel: 70,
        isFeatured: false,
        status: "active",
        rating: 4.0,
        reviews: 67,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse A",
        supplier: "Usha International",
        reorderPoint: 10,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000003"
      },
      {
        name: 'Mi 32" HD Ready Smart LED TV',
        category: "TVs",
        brand: "Mi",
        price: 14999,
        originalPrice: 17999,
        discountPercentage: 17,
        description: "32 inch HD Ready Smart LED TV with Android OS",
        images: ["https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?w=500"],
        quantity: 15,
        minStockLevel: 5,
        maxStockLevel: 50,
        isFeatured: true,
        status: "active",
        rating: 4.3,
        reviews: 234,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Xiaomi India",
        reorderPoint: 5,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000004"
      },
      {
        name: "Voltas 1 Ton 3 Star Split AC",
        category: "ACs",
        brand: "Voltas",
        price: 32999,
        originalPrice: 37999,
        discountPercentage: 13,
        description: "1 Ton 3 Star Split AC with copper condenser",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 8,
        minStockLevel: 3,
        maxStockLevel: 30,
        isFeatured: true,
        status: "active",
        rating: 4.5,
        reviews: 145,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Voltas India",
        reorderPoint: 3,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000005"
      },
      {
        name: "Carrier 2 Ton 3 Star Inverter Split AC",
        category: "ACs",
        brand: "Carrier",
        price: 45999,
        originalPrice: 52999,
        discountPercentage: 13,
        description: "2 Ton 3 Star Inverter Split AC with energy saving",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 6,
        minStockLevel: 2,
        maxStockLevel: 20,
        isFeatured: false,
        status: "active",
        rating: 4.6,
        reviews: 98,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Carrier India",
        reorderPoint: 2,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000006"
      },
      {
        name: "Blue Star 1.5 Ton 5 Star Window AC",
        category: "ACs",
        brand: "Blue Star",
        price: 38999,
        originalPrice: 44999,
        discountPercentage: 13,
        description: "1.5 Ton 5 Star Window AC with high efficiency",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 5,
        minStockLevel: 2,
        maxStockLevel: 20,
        isFeatured: false,
        status: "active",
        rating: 4.4,
        reviews: 76,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse B",
        supplier: "Blue Star India",
        reorderPoint: 2,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000007"
      },
      {
        name: "Crompton Ozone 88L Desert Cooler",
        category: "Coolers",
        brand: "Crompton",
        price: 12999,
        originalPrice: 14999,
        discountPercentage: 13,
        description: "88L Desert Cooler with honey comb pads",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 12,
        minStockLevel: 4,
        maxStockLevel: 40,
        isFeatured: false,
        status: "active",
        rating: 4.1,
        reviews: 54,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse C",
        supplier: "Crompton India",
        reorderPoint: 4,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000008"
      },
      {
        name: "Orient Electric 30L Personal Cooler",
        category: "Coolers",
        brand: "Orient Electric",
        price: 6999,
        originalPrice: 7999,
        discountPercentage: 13,
        description: "30L Personal Cooler with 3 speed settings",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 18,
        minStockLevel: 6,
        maxStockLevel: 60,
        isFeatured: false,
        status: "active",
        rating: 3.9,
        reviews: 43,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse C",
        supplier: "Orient Electric",
        reorderPoint: 6,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000009"
      },
      {
        name: "Kenstar 60L Desert Cooler",
        category: "Coolers",
        brand: "Kenstar",
        price: 10999,
        originalPrice: 12999,
        discountPercentage: 15,
        description: "60L Desert Cooler with remote control",
        images: ["https://images.unsplash.com/photo-1586201375761-83865001e31c?w=500"],
        quantity: 10,
        minStockLevel: 3,
        maxStockLevel: 30,
        isFeatured: false,
        status: "active",
        rating: 4.0,
        reviews: 38,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse C",
        supplier: "Kenstar India",
        reorderPoint: 3,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000010"
      },
      {
        name: "Anchor Roma Fan Dimmer Regulator",
        category: "Switches",
        brand: "Anchor",
        price: 299,
        originalPrice: 399,
        discountPercentage: 25,
        description: "Fan dimmer regulator with Roma design",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 75,
        minStockLevel: 15,
        maxStockLevel: 150,
        isFeatured: false,
        status: "active",
        rating: 4.2,
        reviews: 156,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Anchor India",
        reorderPoint: 15,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000011"
      },
      {
        name: "Anchor 16A Heavy Duty Extension Board",
        category: "Switches",
        brand: "Anchor",
        price: 899,
        originalPrice: 1199,
        discountPercentage: 25,
        description: "16A Heavy Duty Extension Board with surge protection",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 50,
        minStockLevel: 10,
        maxStockLevel: 100,
        isFeatured: false,
        status: "active",
        rating: 4.3,
        reviews: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Anchor India",
        reorderPoint: 10,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000012"
      },
      {
        name: "Havells Crabtree 6A Socket",
        category: "Switches",
        brand: "Havells",
        price: 149,
        originalPrice: 199,
        discountPercentage: 25,
        description: "6A Socket with Crabtree design",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 100,
        minStockLevel: 20,
        maxStockLevel: 200,
        isFeatured: false,
        status: "active",
        rating: 4.1,
        reviews: 234,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Havells India",
        reorderPoint: 20,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000013"
      },
      {
        name: "Philips 20W LED Tube Light",
        category: "Lights",
        brand: "Philips",
        price: 399,
        originalPrice: 499,
        discountPercentage: 20,
        description: "20W LED Tube Light with cool daylight",
        images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=500"],
        quantity: 80,
        minStockLevel: 16,
        maxStockLevel: 160,
        isFeatured: false,
        status: "active",
        rating: 4.4,
        reviews: 167,
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: "admin",
        updatedBy: "admin",
        location: "Warehouse D",
        supplier: "Philips India",
        reorderPoint: 16,
        lastRestocked: new Date("2025-10-01"),
        expiryDate: null,
        barcode: "8900000000014"
      }
    ];

    const result = await inventoryCollection.insertMany(inventoryProducts);
    console.log(`Successfully inserted ${result.insertedCount} products into inventory collection`);
    console.log('Inserted IDs:', result.insertedIds);

    // Verify the insertion
    const count = await inventoryCollection.countDocuments();
    console.log(`Total documents in inventory collection: ${count}`);

  } catch (error) {
    console.error('Error populating inventory collection:', error);
  } finally {
    await client.close();
    console.log('Disconnected from MongoDB');
  }
}

populateInventoryCollection();
